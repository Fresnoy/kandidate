
<div class="content">
      <h1>
        Cursus
      </h1>

          <form name="form" ng-submit="form.$valid && submit()" class="css-form" novalidate enctype="multipart/form-data">

            <label>Cursus</label>
            <div ng-repeat="item in cursus_gallery.media | orderBy:'1*position'"
                  ng-model="cursus_gallery.media"
                  name="uCursus"
                  class="item-list"
                  ng-class="{ active: item.position == state.selected }"
                  ng-click="state.selected = item.position"
                  >
              <div class="item-summary">
                  <div ng-if="item.position>200">{{item.position}}</div>
                  <div ng-if="item.position<200">Nouvelle entr√©e</div>
              </div>
              <div class="item-infos">
                <select ng-model="item.position" ng-change="save(item)" required >
                  <option value="">-- Select Year --</option>
                  <option ng-selected="item.position==year" ng-repeat="year in years" value='{{year}}'>{{year}}</option>
                </select>

                <input type="text" placeholder="label"
                 ng-model="item.label"
                 ng-model-options='{ debounce: 1000 }'
                 ng-change="save(item)"
                 required
                  />

                <input type="text" placeholder="ville "
                  ng-model="item.description"
                  ng-model-options='{ debounce: 1000 }'
                  ng-change="save(item)"
                  required
                  />

                <div class="photo-upload" ng-model="item.picture"
                  ngf-select="upload(item, 'picture', item.picture)"
                  ngf-capture="'camera'"
                  accept="image/*"
                  ng-style="{'background-image':'url('+item.picture+')'}">
                  <span ng-if="!item.picture">Justificatif</span>

                </div>
                <span ng-show="upload_percentage < 0"> {{ upload_percentage }} </span>
                <div class="inline"  ng-show="form.$submitted || item.$touched">
                    <span ng-show="item.$error.required"> Give us a photo please</span>
                    <span ng-show="item.$error.photo"> Value error </span>
                </div>
                <a class="btn btn-inv block remove" ng-click="removeItem(cursus_gallery.media, $index)"> Efface ce diplome </a>


            </div>
          </div>

          <div class="">
              {{form.$$error}}
          </div>

          <div>
            <a class="btn block" ng-click="addItem(cursus_gallery)"> Ajouter un diplome </a>
          </div>


          <a class="btn" ui-sref="candidature.etat-civil-photo">
            Retour
          </a>
          <a ng-class="{ 'has-error': form.$invalid }" class="btn" ui-sref="candidature.media">
            Continue
          </a>

        </form>

</div>
