<div class="confirmation">
   <h1>
      Confirmation
   </h1>
   <p class="fr"> Merci de confimer la  création de votre compte en cliquant sur le lien de confimation envoyé sur l’email : </p>
   <p class="en"> Thank you for confirming the creation of your account by clicking on the confimation link sent on the email : </p>
   <br/>
   <form name="formConfirmation">
      <div >
         <a ng-show="!edit_email" > {{user.email}} </a>
      </div>
      <div ng-show="edit_email">
         <input id="email" type="email" ng-model="user.email" name="uEmail" unique-user-field required />
         <div ng-show="formConfirmation.uEmail.$touched  && formConfirmation.uEmail.$invalid" ng-messages="formConfirmation.uEmail.$error" class="help-block error">
            <div ng-message="required">
               <span class="fr">Requis</span>
               <span class="en">required</span>
            </div>
            <div ng-message="email">
               <span class="fr">E-mail non valide</span>
               <span class="en">This is not a valid email</span>
            </div>
            <div ng-message="uniqueUserField">
               <span class="fr">Cet email est déjà associé à un utilisateur, <a ui-sref="candidature.account.login">connectez vous</a></span>
               <span class="en">Email is already use by an account, <a ui-sref="candidature.account.login">connect you</a></span>
            </div>
         </div>
         <label for="email">
         <span class="field-state required" ng-class="{ 'error': form.uEmail.$error, 'valid':form.uEmail.$valid, 'touched': form.uEmail.$touched }"></span>
         <span class="fr">E-mail</span>
         <span class="en">Email</span>
         </label>
         <a class="btn" ng-click="edit_email = false" ng-class="{ 'has-error': formConfirmation.$invalid }" >
         Valider l'email
         </a>
      </div>
      <div class="btn" ng-show="!edit_email" ng-click="edit_email = true" >
         Corriger l'email
      </div>
   </form>
   <div ng-show="formConfirmation.uEmail.$invalid && formConfirmation.$submitted" ng-messages="formConfirmation.$error" class="alert alert-danger">
      <div ng-message="first_name">
         <span class="fr">Prénom : {{formConfirmation.$error.first_name[0]}}</span>
         <span class="en">First Name : {{formConfirmation.$error.first_name[0]}}</span>
      </div>
      <div ng-message="last_name">
         <span class="fr">Nom : {{formConfirmation.$error.last_name[0]}}</span>
         <span class="en">Name : {{formConfirmation.$error.first_name[0]}}</span>
      </div>
      <div ng-message="usernmae">
         <span class="fr">Username : {{formConfirmation.$error.usernmae[0]}}</span>
         <span class="en">Username : {{formConfirmation.$error.usernmae[0]}}</span>
      </div>
   </div>
   <div class="navigation">
      <a class="btn btn-inv" ng-click="update_infos(formConfirmation, user)" ng-class="{ 'has-error': (formConfirmation.$invalid || send_email<1 || edit_email) }" >
      Renvoyer l'email {{send_email}}
      </a>
   </div>
</div>
